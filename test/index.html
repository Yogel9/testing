<html><head><base href="https://example.com">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Бухгалтерские тесты | Повышение квалификации</title>
<style>
:root {
  --primary: #2c3e50;
  --secondary: #34495e;
  --accent: #3498db;
  --light: #ecf0f1;
  --success: #27ae60;
  --danger: #e74c3c;
  --background: #ecf0f1;
  --text: #2c3e50;
  --card-bg: white;
}

[data-theme="dark"] {
  --primary: #1a1a2e;
  --secondary: #16213e;
  --accent: #3498db;
  --light: #1f2937;
  --background: #111827;
  --text: #e5e7eb;
  --card-bg: #1f2937;
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: 'Roboto', sans-serif;
  line-height: 1.6;
  background: var(--background);
  color: var(--text);
  transition: background-color 0.3s ease, color 0.3s ease;
}

.theme-toggle {
  position: fixed;
  top: 1rem;
  right: 1rem;
  padding: 0.5rem 1rem;
  border-radius: 20px;
  border: 2px solid var(--accent);
  background: var(--card-bg);
  color: var(--text);
  cursor: pointer;
  transition: all 0.3s ease;
}

.theme-toggle:hover {
  background: var(--accent);
  color: white;
}

.navbar {
  background: var(--primary);
  padding: 1rem;
  color: white;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

.navbar h1 {
  margin: 0;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem;
}

.test-card {
  background: var(--card-bg);
  border-radius: 8px;
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  transition: transform 0.3s ease, background-color 0.3s ease;
}

.test-card:hover {
  transform: translateY(-5px);
}

.options {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  margin: 1rem 0;
}

.option {
  padding: 1rem;
  border: 2px solid var(--secondary);
  border-radius: 4px;
  cursor: pointer;
  transition: all 0.3s ease;
}

.option:hover {
  background: var(--secondary);
  color: white;
}

.option.selected {
  background: var(--accent);
  color: white;
  border-color: var(--accent);
}

.btn {
  padding: 0.8rem 1.5rem;
  border: none;
  border-radius: 4px;
  background: var(--accent);
  color: white;
  cursor: pointer;
  font-size: 1rem;
  transition: background 0.3s ease;
}

.btn:hover {
  background: #2980b9;
}

.btn-danger {
  background: var(--danger);
  margin-left: 1rem;
}

.btn-danger:hover {
  background: #c0392b;
}

.progress-bar {
  width: 100%;
  height: 10px;
  background: #eee;
  border-radius: 5px;
  margin: 1rem 0;
  overflow: hidden;
}

.progress {
  width: 0%;
  height: 100%;
  background: var(--accent);
  transition: width 0.3s ease;
}

.score {
  font-size: 1.2rem;
  margin: 1rem 0;
  font-weight: bold;
}

.feedback {
  padding: 1rem;
  border-radius: 4px;
  margin: 1rem 0;
}

.feedback.correct {
  background: #d4edda;
  color: var(--success);
}

.feedback.incorrect {
  background: #f8d7da;
  color: var(--danger);
}

.results-container {
  background: var(--card-bg);
  border-radius: 8px;
  padding: 2rem;
  margin-top: 2rem;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

.result-item {
  margin-bottom: 1.5rem;
  padding-bottom: 1.5rem;
  border-bottom: 1px solid #eee;
}

.result-item:last-child {
  border-bottom: none;
}

.result-question {
  font-weight: bold;
  margin-bottom: 0.5rem;
}

.result-answer {
  padding: 0.5rem;
  border-radius: 4px;
}

.result-answer.correct {
  background: #d4edda;
  color: var(--success);
}

.result-answer.incorrect {
  background: #f8d7da;
  color: var(--danger);
}

.summary-stats {
  display: flex;
  gap: 2rem;
  margin-bottom: 2rem;
}

.stat-item {
  flex: 1;
  text-align: center;
  padding: 1rem;
  background: var(--card-bg);
  border-radius: 8px;
}

.stat-value {
  font-size: 2rem;
  font-weight: bold;
  color: var(--accent);
}

.stat-label {
  color: var(--secondary);
}
</style>
</head>
<body>
  <button class="theme-toggle" id="theme-toggle">Сменить тему</button>
  <nav class="navbar">
    <div class="container">
      <h1>Бухгалтерские тесты</h1>
    </div>
  </nav>

  <div class="container">
    <div id="test-container">
      <div class="progress-bar">
        <div class="progress" id="progress"></div>
      </div>
      <div class="score" id="score">Счет: 0/0</div>
      <div class="test-card" id="current-question">
        <h2>Загрузка вопроса...</h2>
      </div>
      <button class="btn" id="next-btn">Следующий вопрос</button>
      <button class="btn btn-danger" id="finish-btn">Завершить тест</button>
    </div>
  </div>

<script>
const questions = [
  {
    question: "Что такое двойная запись?",
    options: [
      "Отражение каждой операции по дебету и кредиту разных счетов",
      "Повторная запись одной операции",
      "Запись двух разных операций",
      "Отражение операции в двух экземплярах"
    ],
    correct: 0
  },
  {
    question: "Какой документ является основным для начисления заработной платы?",
    options: [
      "Приказ о приеме на работу",
      "Табель учета рабочего времени",
      "Расчетная ведомость",
      "Платежная ведомость"
    ],
    correct: 1
  },
  {
    question: "Что включает в себя бухгалтерский баланс?",
    options: [
      "Только активы предприятия",
      "Активы и пассивы предприятия",
      "Только пассивы предприятия",
      "Доходы и расходы предприятия"
    ],
    correct: 1
  }
];

let currentQuestion = 0;
let score = 0;
let userAnswers = [];

function displayQuestion() {
  const question = questions[currentQuestion];
  const questionElement = document.getElementById('current-question');
  
  questionElement.innerHTML = `
    <h2>${question.question}</h2>
    <div class="options">
      ${question.options.map((option, index) => `
        <div class="option" data-index="${index}">${option}</div>
      `).join('')}
    </div>
  `;

  const options = questionElement.querySelectorAll('.option');
  options.forEach(option => {
    option.addEventListener('click', () => selectOption(option));
  });

  const progress = document.getElementById('progress');
  progress.style.width = `${(currentQuestion / questions.length) * 100}%`;
}

function selectOption(selectedOption) {
  const options = document.querySelectorAll('.option');
  options.forEach(option => option.classList.remove('selected'));
  selectedOption.classList.add('selected');
}

function showResults() {
  const testContainer = document.getElementById('test-container');
  const resultsHtml = `
    <div class="results-container">
      <h2>Результаты теста</h2>
      <div class="summary-stats">
        <div class="stat-item">
          <div class="stat-value">${score}</div>
          <div class="stat-label">Правильных ответов</div>
        </div>
        <div class="stat-item">
          <div class="stat-value">${Math.round((score/questions.length) * 100)}%</div>
          <div class="stat-label">Процент успеха</div>
        </div>
        <div class="stat-item">
          <div class="stat-value">${questions.length}</div>
          <div class="stat-label">Всего вопросов</div>
        </div>
      </div>
      ${userAnswers.map((answer, index) => `
        <div class="result-item">
          <div class="result-question">${questions[index].question}</div>
          <div class="result-answer ${answer === questions[index].correct ? 'correct' : 'incorrect'}">
            ${answer === -1 ? 
              'Вопрос не был отвечен' : 
              `Ваш ответ: ${questions[index].options[answer]}`}
            ${answer !== questions[index].correct ? 
              `<br>Правильный ответ: ${questions[index].options[questions[index].correct]}` : 
              ''}
          </div>
        </div>
      `).join('')}
    </div>
  `;
  testContainer.innerHTML = resultsHtml;
}

function checkAnswer() {
  const selectedOption = document.querySelector('.option.selected');
  if (!selectedOption) return false;

  const selectedAnswer = parseInt(selectedOption.dataset.index);
  userAnswers.push(selectedAnswer);
  const correct = questions[currentQuestion].correct === selectedAnswer;

  if (correct) score++;

  const feedback = document.createElement('div');
  feedback.className = `feedback ${correct ? 'correct' : 'incorrect'}`;
  feedback.textContent = correct ? 'Правильно!' : 'Неправильно. Правильный ответ: ' + 
    questions[currentQuestion].options[questions[currentQuestion].correct];
  
  document.getElementById('current-question').appendChild(feedback);

  return true;
}

document.getElementById('next-btn').addEventListener('click', () => {
  if (currentQuestion < questions.length - 1) {
    if (checkAnswer()) {
      currentQuestion++;
      displayQuestion();
      document.getElementById('score').textContent = `Счет: ${score}/${currentQuestion}`;
    }
  } else {
    if (checkAnswer()) {
      document.getElementById('score').textContent = `Итоговый счет: ${score}/${questions.length}`;
      showResults();
    }
  }
});

// Finish test functionality
function finishTest() {
  const answeredQuestions = userAnswers.length;
  
  if (answeredQuestions < questions.length) {
    if (confirm('Вы ответили не на все вопросы! Если Вы завершите тест сейчас, то ответы на оставшиеся вопросы будут помечены как неправильные! Завершить тест?')) {
      while (userAnswers.length < questions.length) {
        userAnswers.push(-1); // -1 indicates unanswered question
      }
      document.getElementById('score').textContent = `Итоговый счет: ${score}/${questions.length}`;
      showResults();
    }
  } else {
    document.getElementById('score').textContent = `Итоговый счет: ${score}/${questions.length}`;
    showResults();
  }
}

document.getElementById('finish-btn').addEventListener('click', finishTest);

// Start the test
displayQuestion();

// Theme toggle functionality
const themeToggle = document.getElementById('theme-toggle');
let currentTheme = 'light';

function toggleTheme() {
  currentTheme = currentTheme === 'light' ? 'dark' : 'light';
  document.documentElement.setAttribute('data-theme', currentTheme);
  localStorage.setItem('theme', currentTheme);
}

// Check for saved theme preference
const savedTheme = localStorage.getItem('theme');
if (savedTheme) {
  currentTheme = savedTheme;
  document.documentElement.setAttribute('data-theme', currentTheme);
}

themeToggle.addEventListener('click', toggleTheme);

</script>

</body>
</html>